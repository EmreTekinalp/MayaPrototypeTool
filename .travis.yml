env:
  global:
    - CC_TEST_REPORTER_ID=02010105b384d3a41a50c3f9130f0ce3aa35d7d5ef3258519015cc94afe417a3

language: python

# python versions to consider
python:
  - "2.7"

before_install:
  - pip install pytest pytest-cov
  - pip install coveralls

install:
  - pip install -r requirements.txt

# run scripts
script:
  - nosetests
  - coverage run --omit = src/mayaprototypetool.py test/test.py
  - coverage xml --omit = src/mayaprototypetool.py test/test.py
  - export CODACY_PROJECT_TOKEN=2e6a4e36e7aa4c96acbef9ac7c66fe57
  - python-codacy-coverage -c $TRAVIS_COMMIT -d $TRAVIS_BUILD_DIR -r coverage.xml

after_success:
  - coveralls
  - codecov --file coverage/lcov.info --disable search